---
title: Preprocessing Housing Data
jupyter: julia-1.7
---

```{julia}
using Pkg; Pkg.activate("dev")
```

```{julia}
include("dev/utils.jl")
using AlgorithmicRecourseDynamics
using CounterfactualExplanations, Flux, Plots, PlotThemes, Random, LaplaceRedux, LinearAlgebra
theme(:wong)
output_path = output_dir("real_world")
www_path = www_dir("real_world")
data_path = data_dir("real_world")
```

```{julia}
using MLDatasets, Statistics, StatsBase
X = Matrix(BostonHousing().features)
dt = fit(ZScoreTransform, X, dims=1)
StatsBase.transform!(dt, X)
using DataFrames
df = DataFrame(X,:auto)
# Target:
y = BostonHousing().targets.MEDV
y = Float64.(y .>= median(y)); # binary target
df.target .= y
using CSV
CSV.write(joinpath(data_path, "housing.csv"), df)
```

